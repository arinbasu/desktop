<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Stencila Desktop</title>
  <link href="stencila/stencila.css" rel="stylesheet" type="text/css">

  <!-- Dependencies -->
  <script type="text/javascript" src="stencila/web/substance.js"></script>
  <script type="text/javascript" src="stencila/web/substance-mini.js"></script>
  <script type="text/javascript" src="stencila/web/brace.min.js"></script>
  <script type="text/javascript" src="stencila/katex/katex.min.js"></script>
  <script type="text/javascript" src="stencila/stencila.js"></script>
  <script>
    const { MemoryBackend, Dashboard } = window.stencila
    let stubBackend = new MemoryBackend()

    window.addEventListener('load', () => {
      Dashboard.mount({
        backend: stubBackend,
        resolveEditorURL: function(type, archiveURL) {
          let editorURL
          if (type === 'document') {
            editorURL = "document.html"
          } else {
            editorURL = "sheet.html"
          }
          editorURL += '?archiveURL='+encodeURIComponent(archiveURL)
          return editorURL
        }
      }, window.document.body)
    })
  </script>
</head>
<body>

</body>
</html>
